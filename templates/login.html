{{ define "title" }}Login{{ end }}
{{ define "content" }}
<div class="form-container">
  <h2>Login</h2>
  <form id="loginForm" action="/login-submit" method="POST" autocomplete="off">
    <!-- Email input -->
    <input type="email" name="email" placeholder="Email" required class="input-style">
    
    <!-- Password input with toggle -->
    <div class="password-wrapper">
      <input type="password" id="password" name="password" placeholder="Password" required class="input-style">
      <button type="button" onclick="togglePassword()" id="password-toggle-btn" aria-label="Toggle password visibility">
        <svg id="eye-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
          stroke="currentColor" width="20" height="20">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 12a3 3 0 11-6 0 3 3 0 016 0zm7.242 0a10.97 10.97 0 01-1.383 2.12M12 5c3.866 0 7.09 2.91 8.485 7-1.395 4.09-4.619 7-8.485 7s-7.09-2.91-8.485-7C4.91 7.91 8.134 5 12 5z" />
        </svg>
      </button>
    </div>
    
    <!-- Submit -->
    <button type="submit">Login</button>
  </form>

  <!-- OAuth2 Providers -->
  <div class="oauth-providers">
    <p class="oauth-divider">Or login with:</p>
    <div class="oauth-buttons">
      <a href="/auth/google/login" class="oauth-btn google-btn">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" width="18" height="18" alt="Google">
        Google
      </a>
      <a href="/auth/github/login" class="oauth-btn github-btn">
         <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" width="18" height="18" alt="GitHub">
         GitHub
      </a>
    </div>
  </div>
  
  <p class="register-link">Don't have an account? <a href="/register">Register here</a></p>
  <p class="forgot-password">Forgot Password? <a href="/forgot-password">Forgot Password</a></p>
  
  <a href="/" class="cancel-btn">Cancel</a>
</div>

<!-- Ban Modal -->
<div id="errorModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close-btn" onclick="closeErrorModal()">&times;</span>
    <h2>⛔ WARNING!</h2>
    <div id="errorText"></div>
    <div class="modal-footer">
      <button onclick="closeErrorModal()">Of course</button>
      <button onclick="location.href='/contact-support'" class="contact-btn">Contact support</button>
    </div>
  </div>
</div>
<style>
.modal {
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  display: none;
  justify-content: center;
  align-items: center;
  font-family: var(--font-family);
}

.modal-content {
  background-color: var(--white-color);
  padding: 25px;
  border-radius: var(--border-radius);
  width: 80%;
  max-width: 500px;
  box-shadow: var(--box-shadow);
  position: relative;
  color: var(--text-color);
}

.modal-content h2 {
  color: var(--primary-color);
  font-size: var(--font-size-heading);
  margin-bottom: 15px;
}

.close-btn {
  position: absolute;
  right: 15px;
  top: 10px;
  font-size: 24px;
  cursor: pointer;
  color: var(--text-color);
  transition: color 0.3s;
}

.close-btn:hover {
  color: var(--secondary-color);
}

.modal-footer {
  margin-top: 20px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
}

.modal-footer button {
  padding: var(--button-padding);
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size-comment);
  transition: background-color 0.3s;
}

.modal-footer button:first-child {
  background-color: var(--button-color);
  color: var(--white-color);
}

.modal-footer button:first-child:hover {
  background-color: var(--button-hover-color);
}

.contact-btn {
  background-color: var(--accent-color);
  color: var(--white-color);
}

.contact-btn:hover {
  background-color: var(--tag-color);
}

/* Додаткові стилі для тексту помилки */
#errorText {
  font-size: var(--font-size-post);
  line-height: 1.5;
}

#errorText strong {
  color: var(--primary-color);
}

#errorText p {
  margin: 8px 0;
}

/* Адаптація для мобільних пристроїв */
@media (max-width: 768px) {
  .modal-content {
    width: 90%;
    padding: 20px;
  }
  
  .modal-footer {
    flex-direction: column;
  }
  
  .modal-footer button {
    width: 100%;
    margin-bottom: 10px;
  }
  
  .modal-footer button:last-child {
    margin-bottom: 0;
  }
}

@media (max-width: 480px) {
  .modal-content {
    width: 95%;
    padding: 15px;
  }
  
  .modal-content h2 {
    font-size: calc(var(--font-size-heading) - 2px);
  }
  
  #errorText {
    font-size: calc(var(--font-size-post) - 1px);
  }

  /* OAuth Styles */
  .oauth-providers {
    margin: 20px 0;
    text-align: center;
  }

  .oauth-divider {
    position: relative;
    margin: 20px 0;
    color: var(--text-color-light);
    font-size: var(--font-size-comment);
  }

  .oauth-divider::before,
  .oauth-divider::after {
    content: "";
    position: absolute;
    top: 50%;
    width: 30%;
    height: 1px;
    background-color: var(--border-color);
  }

  .oauth-divider::before {
    left: 0;
  }

  .oauth-divider::after {
    right: 0;
  }

  .oauth-buttons {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 15px;
  }

  .oauth-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 10px 15px;
    border-radius: var(--border-radius);
    font-weight: 500;
    text-decoration: none;
    transition: background-color 0.3s, transform 0.2s;
  }

  .oauth-btn:hover {
    transform: translateY(-2px);
  }

  .google-btn {
    background-color: #4285F4;
    color: white;
  }

  .google-btn:hover {
    background-color: #357ABD;
  }

  .github-btn {
    background-color: #333;
    color: white;
  }

  .github-btn:hover {
    background-color: #222;
  }

  @media (max-width: 480px) {
    .oauth-buttons {
      flex-direction: column;
    }
  }
}
</style>

{{ end }}